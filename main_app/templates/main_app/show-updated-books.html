{% extends "main_app/base.html" %}
{% block css %}
{% load widget_tweaks %}

{{block.super}}

<style>
    a{
        text-decoration: none;
        color: orange;
    }
</style>
{% endblock %}
{% block content%}
<form method="get">
    {{ filter.form.as_p }}
    <input type="submit" />
</form>
<table class="table table-striped table-bordered text-center">
    <thead>
      <tr>
        <th scope="col">#</th>
        <th scope="col">id</th>        
        <th scope="col">title</th>
        <th scope="col">publisher</th>
        <th scope="col">price</th>
        <th scope="col">special_price</th>
        <th scope="col">updated_at</th>        
        <th scope="col">status</th>
      </tr>
    </thead>
    <tbody>
        {% for book in books %}
        <tr>
            <th scope="row">{{forloop.counter}}</th>
            <th scope="row">{{book.id}}</th>
            <td><a href="{{book.ref}}" target="_blank" rel="noreferrer">{{book.title}}</a></td>
            <td>{{book.publisher.publisher_name}}</td>
            <td>{{book.current_price}}</td>
            <td>{{book.special_price}}</td>
            <td>{{book.updated_at}}</td>
            <td>{{book.status}}</td>
        </tr>
      {% endfor %}
    </tbody>
  </table>

<nav aria-label="Page navigation example" dir="ltr">
    <ul class="pagination justify-content-center">
        <li>
            <a class="page-link" href="?{{ request.GET.urlencode }}&page=1" tabindex="-1">First</a>
        </li>
        <li>
            {% if books.has_previous %}
            <a class="page-link" href="?{{ request.GET.urlencode }}&page={{ books.previous_page_number }}" tabindex="-1"><<</a>
            {% endif %}
        </li>
      <li class="page-item disabled">
      </li>
      <li class="page-item"><a class="page-link" href="#">{{ books.number }}/{{ books.paginator.num_pages }}.</a></li>
      <li class="page-item">
        {% if books.has_next %}
        <a class="page-link" href="?{{ request.GET.urlencode }}&page={{ books.next_page_number }}">>></a>
        {% endif %}
      </li>
      <li>
        <a class="page-link" href="?{{ request.GET.urlencode }}&page={{ books.paginator.num_pages }}">last</a>
      </li>
    </ul>
  </nav>
{% endblock %}